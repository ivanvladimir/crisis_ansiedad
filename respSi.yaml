conversations:
  - 'categorizacion.yaml'

strategies:
  resSi:
    - say "Vamos a ensayar el ejercicio de re-entrenamiento de la respiraciÃ³n ğŸ«. Para explicarlo mejor, he preparado el **siguiente video** donde te darÃ© ejemplos de la tÃ©cnica que vamos a utilizar. Oprime _play_ para comenzar el vieeo. Si en cualquier momento lo deseas, puedes parar el video y podemos continuar con el siguiente paso ğŸ˜Š."

  set_video:
    - set_slot video_visto False

  ask_video:
    - say "**Â¿Ya terminaste el ejercicio?**"
    - say "Escribe Si o No ğŸ˜Š"
    - input res_video_visto | yesno
    - set_slot video_visto True
    - if res_video_visto then solve set_video

  cinco_cosas:
    - say "Muy bien,   es importante que sepas que despuÃ©s de una situaciÃ³n difÃ­cil y peligrosa, es normal experimentar ansiedad, recuerdos recurrentes y otros sÃ­ntomas incÃ³modos."
    - say "Las tÃ©cnicas para poner los pies sobre la tierra nos ayudan a controlar estos sÃ­ntomas y nos ayudan a enfocarnos en el presente."
    - say "A continuaciÃ³n haremos la tÃ©cnica  5-4-3-2-1, la cual nos ayudarÃ¡ a prestar atenciÃ³n en los detalles de lo que nos rodea usando cada uno de los sentidos ğŸ‘‚ âœ‹ ğŸ‘ƒ ğŸ‘ï¸ ğŸ‘„"
    - say "Te pido por favor que te esfuerces en observar detalles que normalmente ignoramos ğŸ‘€, como sonidos distantes ğŸ¶ o la textura de un objeto ordinario ğŸª"
    - say "**Â¿Comenzamos?**ğŸ˜Š"
    - input cont | yesno
  cinco_cosas_cont:
    - say "Escribe 5 cosas que puedas ver ğŸ‘ï¸ ğŸ‘€ ğŸ˜Š... "
    - say "Intenta buscar detalles pequeÃ±os tales como el patrÃ³n en un techo o la menra en la que luz refleja en la superficie â˜€ï¸ ğŸ’¡"
    - input respuesta
    - say "Escribe 4 cosas que puedas sentir âœ‹ ğŸ¤— ğŸ¦¶"
    - say " Note la sensaciÃ³n de la ropa sobre su cuerpo, el sol sobre su piel o la sensaciÃ³n de la silla sobre la que estÃ¡ sentado. Escoja un objeto y examine su peso, textura u otras cualidades fÃ­sicas ğŸ‘– ğŸ‘š ğŸª‘"
    - input respuesta
    - say "Escribe 3 cosas que puedas oir ğŸ‘‚ ğŸ¶"
    - say "Ponga atenciÃ³n a los sonidos que su mente haya excluido, como el tictac de un reloj o el viento soplando en los Ã¡rboles â° ğŸ ğŸŒ² ğŸ¶."
    - input respuesta
    - say "Escribe 2 cosas que puedas oler ğŸ‘ƒ ..."
    - say "Intente identificar los olores en el aire a su alrededor, como el aromatizante de aire o pasto reciÃ©n cortado. TambiÃ©n puede buscar algo que huela, como una flor o una vela sin encender ğŸŒ¸ğŸ•¯ï¸"
    - input respuesta
    - say "Escribe 1 cosas que puedas saborear ğŸ‘„..."
    - say "Lleve consigo chicle, dulces o colaciones pequeÃ±as para este paso. Introduzca uno en su boca y enfoque su atenciÃ³n en los sabores ğŸ¬ ğŸª ğŸ«"
    - input respuesta
    - say "Â¡Listo! Lo hiciste muy bien. Espero que te sientas mejor despuÃ©s de haber heccho este ejercicio."
    - say "**Â¿Deseas continuar la conversaciÃ³n?**"
    - input ask_cont | yesno

script:
  - solve resSi
  - set_slot video_visto True
  - set_slot cont False
  - say VIDEO
  - while video_visto then solve ask_video
  - say "Espero que esta tÃ©cnica te haya ayudado a sentirte aunque sea un poco mejor ğŸ˜ŠğŸ’™."
  - say "**Â¿Te gustarÃ­a probar otra tÃ©cnica de relajaciÃ³n?** ğŸ˜Š Es importante que realices este ejercicio en un lugar seguro. Si todavÃ­a te encuentras en el lugar del accidente, te recomiendo pasar al siguiente paso y omitir esta tÃ©cnica."
  - input res_ejercicio
  - post zs labelling 'text':res_ejercicio,'texts':['probar otra tÃ©cnica relajaciÃ³n','continuar siguiente paso','si','no'],'labels':['si','no','si','no'] response_ejercicio
  - set_slot otro_ejercicio response_ejercicio['result']
  - if opcion==1 and otro_ejercicio=='si' then solve cinco_cosas
  - if opcion==1 and otro_ejercicio=='si' and cont==True then solve cinco_cosas_cont
  - if opcion==1 and otro_ejercicio=='si' and cont==False then solve categorizacion
  - if opcion==1 and otro_ejercicio=='si' and ask_cont==True then solve derivacion
  - if opcion==1 and otro_ejercicio=='si' and ask_cont==False then say TERMINAR
  - if opcion==1 and otro_ejercicio=='no' and cont==False then solve categorizacion
  - if opcion==2 then say "Puedes regresar siempre que lo desees a realizar este ejercicio conmigo ğŸ˜ŠğŸ«"
