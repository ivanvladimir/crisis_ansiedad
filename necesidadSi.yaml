conversations:
  - 'derivacion.yaml'
slots:
  - preocupacion1
  - preocupacion2
  - preocupacion3
  - otra
  - otra2
  - bandera
  - jerarquia

strategies:
  intro:
    - say "En estas situaciones podemos necesitar una o varias cosas. No obstante, es importante tratar de distinguir entre las cosas que no pueden esperar porque son urgentes y las que podemos resolver mÃ¡s adelante con mÃ¡s calma."
  preocupacion1:
    - say "Teniendo esto en mente, platÃ­came por favor una cosa quÃ© necesites justo ahora."
    - input preocupacion1
  otra:
    - say "Lo estÃ¡s haciedno muy bienğŸ‘ğŸ‘ğŸ˜‰, **Â¿hay algo mÃ¡s que  necesites o te preocupe?**"
    - input otra | yesno
  preocupacion2:
    - say "okay, platÃ­came quÃ© otra cosa necesitas ğŸ˜Š."
    - input preocupacion2
    - set_slot bandera True
  otra2:
    - say "Lo estÃ¡s haciendo muy bien {} ğŸ’™ğŸ‘".format(username)
    - say "**Â¿Existe algo mÃ¡s que necesites justo ahora?**"
    - input otra |yesno
  preocupacion3:
    - say "Muy bien, Â¿quÃ© otra cosa necesitas?"
    - input preocupacion3
  gracias:
    - set_slot said_preocupacion False
    - say "**Muchas gracias {}** por compartir esto conmigo ğŸ’•.".format(username)
    - if preoacupacion3 then say "Entiendo que lo que necesitas justo ahora es **{preocupacion1}**, **{preocupacion2}** y **{preocupacion3}**"
    - if preoacupacion3 then set_slot said_preocupacion True
    - if preoacupacion2 and said_preocupacion!=True then say "Entiendo que lo que necesitas justo ahora es **{preocupacion1}** y **{preocupacion2}**"
    - if preoacupacion2 then set_slot said_preocupacion True
    - if preoacupacion1 and said_preocupacion!=True then say "Entiendo que lo que necesitas justo ahora es **{preocupacion1}**"
  jerarquia:
    - say "Es importante tratar de ordenar o jerarquizar. Intentemos ordenar tus necesidades o preocupaciones. Escribe porfavor en orden lo que necesitas partiendo primero por lo mÃ¡s urgente , lo que no puede esperar â°."
    - input jerarquia
script:
  - solve intro
  - solve preocupacion1
  - solve otra
  - if otra == True then solve preocupacion2
  - if otra == True then solve otra2
  - if otra == False then say "Okay, muy bien"
  - if otra2 == True then solve preocupacion3
  - solve gracias
  - if bandera == True then solve jerarquia
  - solve derivacion
